<div [@pageSwitchAnimation]="pageSwitchAnimation">
    <div
        class="app-now-playing__backgroundimage"
        [ngStyle]="{ 'background-image': 'url(' + background1 + ')' }"
        [@background1Animation]="background1Animation"
    ></div>
    <div
        class="app-now-playing__backgroundimage"
        [ngStyle]="{ 'background-image': 'url(' + background2 + ')' }"
        [@background2Animation]="background2Animation"
    ></div>
    <div class="window-frame">
        <div class="window-frame__titlebar">
            <div class="window-button back-button" (click)="this.goBackToCollectionAsync()" [@controlsVisibility]="controlsVisibility">
                <i class="back-button__icon las la-arrow-left"></i>
            </div>
            <div class="window-frame__dragarea"></div>
            <app-window-controls
                *ngIf="!appearanceService.windowHasNativeTitleBar"
                [@controlsVisibility]="controlsVisibility"
            ></app-window-controls>
        </div>
        <div class="window-frame__content">
            <div class="app-now-playing">
                <div class="app-now-playing__content">
                    <!-- Nothing playing -->
                    <app-now-playing-nothing-playing
                        [@inOutAnimation]="{
                            value: inOutAnimation,
                            params: {
                                theMargin: this.theMargin
                            }
                        }"
                        *ngIf="this.selectedNowPlayingPage === nowPlayingPageEnum.nothingPlaying"
                        class="collection-viewport"
                    ></app-now-playing-nothing-playing>
                    <!-- Showcase -->
                    <app-now-playing-showcase
                        [@inOutAnimation]="{
                            value: inOutAnimation,
                            params: {
                                theMargin: this.theMargin
                            }
                        }"
                        *ngIf="this.selectedNowPlayingPage === nowPlayingPageEnum.showcase"
                        class="collection-viewport"
                    ></app-now-playing-showcase>
                    <!-- Lyrics -->
                    <app-now-playing-lyrics
                        [@inOutAnimation]="{
                            value: inOutAnimation,
                            params: {
                                theMargin: this.theMargin
                            }
                        }"
                        *ngIf="this.selectedNowPlayingPage === nowPlayingPageEnum.lyrics"
                        class="collection-viewport"
                    ></app-now-playing-lyrics>
                    <!-- Artist info -->
                    <app-now-playing-artist-info
                        [@inOutAnimation]="{
                            value: inOutAnimation,
                            params: {
                                theMargin: this.theMargin
                            }
                        }"
                        *ngIf="this.selectedNowPlayingPage === nowPlayingPageEnum.artistInformation"
                        class="collection-viewport"
                    ></app-now-playing-artist-info>
                </div>
                <div class="app-now-playing-playback-controls__container">
                    <div
                        class="app-now-playing-playback-controls__background theme-footer-background"
                        [@controlsVisibility]="controlsVisibility"
                    ></div>
                    <canvas id="nowPlayingAudioVisualizer" class="app-now-playing-playback-controls__audio-visualizer"></canvas>
                    <app-now-playing-playback-pane
                        class="app-now-playing-playback-controls__playback-pane"
                        [@controlsVisibility]="controlsVisibility"
                    ></app-now-playing-playback-pane>
                </div>
            </div>
        </div>
    </div>
</div>
